# 环境配置指南

## 使用说明

本项目使用Spring Boot多环境配置方式，通过不同的配置文件来管理各环境的敏感信息。

## 配置文件结构

- `application.yml` - 基础配置文件（已提交到git）
- `application-dev.yml` - 开发环境配置（不提交到git）
- `application-prod.yml` - 生产环境配置（不提交到git）

## 环境配置文件

根据需要在 `module-core/src/main/resources/` 目录下创建对应的环境配置文件：

- 开发环境：`application-dev.yml`
- 生产环境：`application-prod.yml`

### 配置模板

```yaml
# 环境配置 - 覆盖 application.yml 中的敏感信息
# 此文件不提交到git，请根据实际情况修改

spring:
  datasource:
    dynamic:
      datasource:
        user:
          username: your_db_username
          password: your_db_password
        system:
          username: your_db_username
          password: your_db_password
  data:
    redis:
      password: your_redis_password  # 如果Redis设置了密码则填写，无密码可留空或删除此行

jwt:
  secret: your_jwt_secret_key_here  # JWT密钥，请使用安全的256位随机字符串

aliyun:
  oss:
    endpoint: your_oss_endpoint
    accessKeyId: your_access_key_id
    accessKeySecret: your_access_key_secret
    bucketName: your_bucket_name
    domain: your_oss_domain
```

### 配置说明

- **数据库配置**：填写对应环境的数据库用户名和密码
- **Redis配置**：如果Redis设置了密码则填写，无密码可留空或删除该配置项
- **JWT密钥**：每个环境应使用不同的安全密钥
- **OSS配置**：填写对应环境的阿里云OSS配置信息
- **其他配置**：如需覆盖其他配置项（如数据库地址、Redis地址等），可参考 `application.yml` 中的配置结构进行添加

## 环境切换

在 `application.yml` 中通过 `spring.profiles.active` 来切换环境：

```yaml
spring:
  profiles:
    active: dev  # 开发环境使用 dev，生产环境使用 prod
```

## 注意事项

1. **安全性**：环境配置文件已添加到 `.gitignore`，不会提交到版本控制
2. **JWT密钥**：不同环境应使用不同的安全密钥
3. **服务依赖**：确保对应环境的MySQL和Redis服务已启动
4. **数据库初始化**：确保数据库已创建并执行了初始化脚本