# 附录：结果码参考

本文档列出了项目中所有已定义的结果码，供开发新模块时参考。

## 结果码规范

### 1. 成功码
- 统一使用 `GlobalResultCode.SUCCESS.getCode()`（200）
- 消息简短：如"添加成功"、"获取成功"、"列表获取成功"

### 2. 失败码分段（按模块划分）

| 错误码段 | 模块 | 说明 |
|---------|------|------|
| 200 | Global | 成功（SUCCESS） |
| 400-499 | Global | 通用客户端错误 |
| 500-599 | Global | 通用服务端错误 |
| 1xxx | Auth | 认证相关（登录、注册、Token） |
| 2xxx | User | 用户管理 |
| 3xxx | System | 系统模块（文件上传、配置） |
| 4xxx | Role | 角色管理 |
| 5xxx | Permission | 权限管理 |
| 6xxx+ | - | 预留给新模块 |

### 3. 消息规范
- 成功消息：简短明了（"添加成功"、"获取成功"）
- 失败消息：具体描述错误原因（"用户不存在"、"库存不足"）

### 4. 新模块错误码分配

创建新模块时，按顺序使用下一个千位数：
- 6xxx: 第一个新模块
- 7xxx: 第二个新模块
- 8xxx: 第三个新模块
- 以此类推...

---

## 已有结果码列表

### GlobalResultCode（通用 - 200/400/500）

**位置：** `am-common/src/main/java/com/thirty/common/enums/result/GlobalResultCode.java`

| 错误码 | 枚举名称 | 说明 |
|--------|---------|------|
| 200 | SUCCESS | 操作成功 |
| 400 | PARAM_ERROR | 参数格式错误 |
| 400 | ENUM_ERROR | 枚举值格式错误 |
| 401 | UNAUTHORIZED | 请登录 |
| 403 | FORBIDDEN | 没有相关权限 |
| 404 | NOT_FOUND | 资源不存在 |
| 404 | INTERFACE_NOT_EXIST | 接口不存在 |
| 405 | METHOD_NOT_ALLOWED | 请求方法不支持 |
| 429 | RATE_LIMIT_EXCEEDED | 访问过于频繁，请稍后再试 |
| 500 | ERROR | 服务器错误 |

---

### AuthResultCode（认证 - 1xxx）

**位置：** `am-common/src/main/java/com/thirty/common/enums/result/AuthResultCode.java`

| 错误码 | 枚举名称 | 说明 |
|--------|---------|------|
| 200 | REGISTER_SUCCESS | 注册成功 |
| 200 | LOGIN_SUCCESS | 登录成功 |
| 200 | LOGOUT_SUCCESS | 退出成功 |
| 1001 | USERNAME_EXISTS | 用户名已存在 |
| 1002 | INVALID_CREDENTIALS | 用户名或密码错误 |
| 1003 | INVALID_REFRESH_TOKEN | 无效的刷新令牌 |
| 1004 | REFRESH_TOKEN_BLACKLISTED | 刷新令牌已失效，请重新登录 |
| 1005 | REFRESH_TOKEN_EXPIRED | 刷新令牌已过期，请重新登录 |
| 1006 | USERNAME_NOT_EXISTS | 用户名不存在 |
| 1007 | USER_BANNED | 用户被封禁, 请联系管理员解封 |
| 1008 | AUTHORIZATION_HEADER_INVALID | Authorization 头格式错误 |
| 1009 | PASSWORD_MISMATCH | 密码不一致 |

---

### UserResultCode（用户 - 2xxx）

**位置：** `am-user/src/main/java/com/thirty/user/enums/result/UserResultCode.java`

| 错误码 | 枚举名称 | 说明 |
|--------|---------|------|
| 200 | USER_ADD_SUCCESS | 添加成功 |
| 200 | USER_INFO_GET_SUCCESS | 获取成功 |
| 200 | USER_MODIFY_SUCCESS | 修改成功 |
| 200 | USER_INFO_UPDATE_SUCCESS | 更新成功 |
| 200 | CHANGE_PASSWORD_SUCCESS | 修改成功 |
| 200 | USER_BAN_SUCCESS | 封禁成功 |
| 200 | USER_UNBAN_SUCCESS | 解封成功 |
| 200 | USER_LIST_GET_SUCCESS | 列表获取成功 |
| 200 | PREFERENCE_GET_SUCCESS | 获取成功 |
| 200 | PREFERENCE_SAVE_SUCCESS | 保存成功 |
| 2001 | USERNAME_ALREADY_EXISTS | 用户名已存在 |
| 2002 | USER_NOT_EXISTS | 用户不存在 |
| 2003 | USER_ID_MISMATCH | 用户不匹配 |
| 2004 | PASSWORD_MISMATCH | 新密码与确认密码不匹配 |
| 2005 | USER_INFO_UPDATE_FAILED | 用户信息更新失败 |
| 2006 | PASSWORD_UPDATE_FAILED | 密码更新失败 |
| 2007 | CURRENT_PASSWORD_INCORRECT | 当前密码错误 |
| 2008 | USER_ROLE_NOT_FOUND | 用户角色不存在 |
| 2009 | ROLE_NOT_AUTHORIZED_ADD | 存在没有权限添加的角色 |
| 2010 | USER_NOT_AUTHORIZED_MODIFY | 没有权限修改该用户 |
| 2011 | ROLE_NOT_AUTHORIZED_MODIFY | 存在没有权限修改的角色 |
| 2012 | ROLE_NOT_AUTHORIZED_BAN | 存在没有权限封禁的角色 |
| 2013 | ROLE_NOT_AUTHORIZED_UNBAN | 存在没有权限解封的角色 |
| 2014 | USER_BANNED | 用户被封禁, 请联系管理员解封 |

---

### FileResultCode（文件 - 3xxx）

**位置：** `am-system/src/main/java/com/thirty/system/enums/result/FileResultCode.java`

| 错误码 | 枚举名称 | 说明 |
|--------|---------|------|
| 200 | IMAGE_UPLOAD_SUCCESS | 图片上传成功 |
| 3001 | FILE_UPLOAD_FAILED | 文件上传失败 |
| 3002 | FILE_UPLOAD_SIZE_EXCEEDED | 文件上传大小超过限制 |
| 3003 | FILE_UPLOAD_FORMAT_ERROR | 文件上传格式错误 |

---

### SettingResultCode（配置 - 3xxx）

**位置：** `am-system/src/main/java/com/thirty/system/enums/result/SettingResultCode.java`

| 错误码 | 枚举名称 | 说明 |
|--------|---------|------|
| 200 | GET_SETTING_SUCCESS | 获得设置成功 |
| 200 | GET_SETTING_VALUES_SUCCESS | 获得所有设置值成功 |
| 200 | MODIFY_SETTINGS_SUCCESS | 修改设置成功 |

---

### RoleResultCode（角色 - 4xxx）

**位置：** `am-user/src/main/java/com/thirty/user/enums/result/RoleResultCode.java`

| 错误码 | 枚举名称 | 说明 |
|--------|---------|------|
| 200 | ROLE_LIST_GET_SUCCESS | 获取角色列表成功 |
| 200 | ROLE_TREE_GET_SUCCESS | 获取角色树成功 |
| 200 | ROLE_ADD_SUCCESS | 添加角色成功 |
| 200 | ROLE_UPDATE_SUCCESS | 更新角色成功 |
| 200 | ROLE_DELETE_SUCCESS | 删除角色成功 |
| 200 | ROLE_ASSIGN_VIEW_SUCCESS | 权限修改成功 |
| 4001 | ROLE_NOT_AUTHORIZED_ADD | 您没有权限添加该角色 |
| 4002 | ROLE_NOT_AUTHORIZED_UPDATE | 您没有权限更新该角色 |
| 4003 | ROLE_NOT_AUTHORIZED_DELETE | 您没有权限删除该角色 |
| 4004 | ROLE_NOT_AUTHORIZED_ASSIGN | 您没有权限分配该角色 |
| 4005 | ROLE_NOT_GLOBAL | 角色不是全局角色 |

---

### PermissionResultCode（权限 - 5xxx）

**位置：** `am-user/src/main/java/com/thirty/user/enums/result/PermissionResultCode.java`

| 错误码 | 枚举名称 | 说明 |
|--------|---------|------|
| 200 | GET_VIEW_TREE_SUCCESS | 获取权限树成功 |
| 200 | GET_MENU_TREE_SUCCESS | 获取菜单树成功 |
| 200 | GET_LIST_SUCCESS | 获取页面列表成功 |
| 200 | GET_MENU_AND_BUTTON_TREE_SUCCESS | 获取菜单和按钮树成功 |
| 200 | GET_PERMISSION_CODE_SUCCESS | 获取权限码列表成功 |
| 200 | ADD_SUCCESS | 添加成功 |
| 200 | MODIFY_SUCCESS | 修改成功 |
| 200 | DELETE_SUCCESS | 删除成功 |
| 200 | MOVE_SUCCESS | 移动成功 |
| 5001 | PERMISSION_NOT_AUTHORIZED_ASSIGN | 您没有权限分配该菜单 |
| 5002 | PERMISSION_NOT_AUTHORIZED_ADD | 您没有权限添加该菜单 |
| 5003 | PERMISSION_NOT_AUTHORIZED_DELETE | 您没有权限删除该菜单 |
| 5004 | PERMISSION_NOT_AUTHORIZED_MODIFY | 您没有权限修改该菜单 |
| 5005 | PERMISSION_TYPE_NOT_COMPLY | 权限类型不符合父节点类型 |
| 5006 | PERMISSION_CANNOT_BE_PARENT | 权限不能作为自己的父节点 |
| 5007 | PERMISSION_CANNOT_MOVE_UP | 权限不能上移 |
| 5008 | PERMISSION_CANNOT_MOVE_DOWN | 权限不能下移 |
| 5009 | PERMISSION_CANNOT_MODIFY_VALID | 权限状态不能修改 |

---

### LogResultCode（日志）

**位置：** `am-user/src/main/java/com/thirty/user/enums/result/LogResultCode.java`

| 错误码 | 枚举名称 | 说明 |
|--------|---------|------|
| 200 | GET_OPERATE_LOG_LIST_SUCCESS | 获取操作日志列表成功 |
| 200 | GET_OPERATE_LOG_SUCCESS | 获取操作日志详情成功 |
| 200 | GET_OPERATE_LOG_CODE_LIST_SUCCESS | 获取操作日志代码列表成功 |
| 200 | GET_OPERATE_LOG_MODULE_LIST_SUCCESS | 获取操作日志模块列表成功 |
| 200 | GET_LOGIN_LOG_LIST_SUCCESS | 获取登录日志列表成功 |
| 200 | GET_LOGIN_LOG_BROWSER_LIST_SUCCESS | 获取登录日志浏览器信息列表成功 |
| 200 | GET_LOGIN_LOG_OPERATING_SYSTEM_LIST_SUCCESS | 获取登录日志操作系统信息列表成功 |

---

### NoticeResultCode（公告）

**位置：** `am-user/src/main/java/com/thirty/user/enums/result/NoticeResultCode.java`

| 错误码 | 枚举名称 | 说明 |
|--------|---------|------|
| 200 | GET_NOTICE_LIST_SUCCESS | 获取通知列表成功 |

---

### StatisticResultCode（统计）

**位置：** `am-user/src/main/java/com/thirty/user/enums/result/StatisticResultCode.java`

| 错误码 | 枚举名称 | 说明 |
|--------|---------|------|
| 200 | GET_ONLINE_USERS_SUCCESS | 获取在线用户成功 |
| 200 | GET_CREATED_USER_COUNT_SUCCESS | 获取创建用户数量图表数据成功 |
| 200 | GET_LAST_TWO_DAY_CREATED_USER_COUNT_SUCCESS | 获取最近两天的用户创建数量成功 |
| 200 | GET_LAST_TWO_DAY_ABNORMAL_OPERATION_COUNT_SUCCESS | 获取最近两天的异常操作次数成功 |

---

## 新模块示例

### ProductResultCode（商品 - 6xxx）

**位置：** `am-product/src/main/java/com/thirty/product/enums/result/ProductResultCode.java`

| 错误码 | 枚举名称 | 说明 |
|--------|---------|------|
| 200 | PRODUCT_ADD_SUCCESS | 添加成功 |
| 200 | PRODUCT_UPDATE_SUCCESS | 更新成功 |
| 200 | PRODUCT_DELETE_SUCCESS | 删除成功 |
| 200 | PRODUCT_GET_SUCCESS | 获取成功 |
| 200 | PRODUCT_LIST_GET_SUCCESS | 列表获取成功 |
| 6001 | PRODUCT_NOT_FOUND | 商品不存在 |
| 6002 | PRODUCT_NAME_EXISTS | 商品名称已存在 |
| 6003 | PRODUCT_STOCK_NOT_ENOUGH | 商品库存不足 |
| 6004 | PRODUCT_PRICE_INVALID | 商品价格无效 |
| 6005 | PRODUCT_DELETE_FAILED | 商品删除失败 |

---

## 使用建议

1. **查看已占用的错误码段**：创建新模块前，先查看本文档确定使用哪个千位数
2. **保持风格一致**：参考现有结果码的命名和消息风格
3. **及时更新文档**：添加新模块后，更新本文档的错误码分段表
4. **避免冲突**：不要使用已被占用的错误码段
