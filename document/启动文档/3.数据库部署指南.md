# 数据库部署指南

## 数据库架构

- **am_user**: 用户权限数据库
- **am_system**: 系统管理数据库

## 自动部署（推荐）

```cmd
cd backend\sql
setup.bat
```

按提示选择：
1. 本地 MySQL 或 Docker MySQL
2. 输入连接信息
3. 等待完成

## 手动部署

```bash
# 1. 创建数据库
mysql -u root -p < sql/init.sql

# 2. 创建表结构
mysql -u root -p < sql/schema/am_user.sql
mysql -u root -p < sql/schema/am_system.sql

# 3. 导入初始数据
mysql -u root -p < sql/data/am_user.sql
mysql -u root -p < sql/data/am_system.sql
```

## 默认账号

| 用户名 | 密码 | 角色 |
|--------|------|------|
| 100001 | Am20250914 | 超级管理员 |

> [!WARNING]
> 生产环境请立即修改默认密码

## 数据源切换

项目使用 AOP 自动切换数据源：
- `com.thirty.user.service.*` → user 数据源
- `com.thirty.system.service.*` → system 数据源